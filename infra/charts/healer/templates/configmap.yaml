apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "healer.fullname" . }}-config
  namespace: {{ .Values.namespace | default .Release.Namespace }}
  labels:
    {{- include "healer.labels" . | nindent 4 }}
data:
  healer-config.json: |
    {
      "cli": {{ .Values.config.cli | quote }},
      "model": {{ .Values.config.model | quote }},
      "max_attempts": {{ .Values.config.maxAttempts }},
      "time_window_mins": {{ .Values.config.timeWindowMins }},
      "memory_url": {{ .Values.config.memoryUrl | quote }},
      "memory_enabled": {{ .Values.config.memoryEnabled }}
    }
