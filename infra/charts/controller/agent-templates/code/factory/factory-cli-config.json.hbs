{
  "version": 1,
  "model": {
    "default": "{{model}}"{{#if reasoning_effort}},
    "reasoningEffort": "{{reasoning_effort}}"{{/if}}{{#if temperature}},
    "temperature": {{temperature}}{{/if}}{{#if max_output_tokens}},
    "maxOutputTokens": {{max_output_tokens}}{{/if}}
  },
  "autoRun": {
    "enabled": true,
    "level": "{{#if reasoning_effort}}{{reasoning_effort}}{{else}}high{{/if}}"
  },
  "specificationMode": {
    "default": true
  },
  "execution": {
    "approvalPolicy": "{{approval_policy}}",
    "sandboxMode": "{{sandbox_mode}}"{{#if project_doc_max_bytes}},
    "projectDocMaxBytes": {{project_doc_max_bytes}}{{/if}}
  },
  "permissions": {
    "allow": [
      "Shell(*)",
      "Read(**/*)",
      "Write(**/*)"
    ],
    "deny": []
  },
  "toolman": {
    "endpoint": "{{toolman.url}}"{{#if toolman.tools}},
    "tools": [
      {{#each toolman.tools}}
      "{{this}}"{{#unless @last}},{{/unless}}
      {{/each}}
    ]{{/if}}
  },
  "mcp": {
    "servers": {
      "toolman": {
        "command": "toolman",
        "args": ["--url", "{{toolman.url}}"],
        "env": {
          "TOOLMAN_SERVER_URL": "{{toolman.url}}"
        }{{#if toolman.tools}},
        "availableTools": [
          {{#each toolman.tools}}
          "{{this}}"{{#unless @last}},{{/unless}}
          {{/each}}
        ]{{/if}}
      }
    }
  }{{#if raw_additional_json}},
  {{raw_additional_json}}
  {{/if}}
}
