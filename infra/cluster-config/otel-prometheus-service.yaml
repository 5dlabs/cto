---
# DEPRECATED: This custom service is no longer needed.
# The Helm chart service exposes port 8889 for prometheus metrics.
# Port 8890 is internal telemetry, no external scraping needed.
#
# Use: otel-collector-opentelemetry-collector.telemetry:8889
# See: infra/gitops/applications/otel-collector.yaml
#
# This file will be removed after verifying no dependencies.
# Cleanup: kubectl delete svc otel-collector-metrics -n telemetry

apiVersion: v1
kind: Service
metadata:
  name: otel-collector-metrics
  namespace: observability
  annotations:
    deprecated: "true"
    deprecation-message: "Use otel-collector-opentelemetry-collector"
  labels:
    app.kubernetes.io/name: opentelemetry-collector
    app.kubernetes.io/instance: otel-collector
spec:
  type: ClusterIP
  ports:
    - name: prometheus
      port: 8889
      targetPort: 8889
      protocol: TCP
    - name: internal-metrics
      port: 8890
      targetPort: 8890
      protocol: TCP
  selector:
    app.kubernetes.io/name: opentelemetry-collector
    app.kubernetes.io/instance: otel-collector
