---
# GHCR Secret - cto namespace
# Docker config JSON for GitHub Container Registry
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: ghcr-secret
  namespace: cto
  labels:
    app.kubernetes.io/name: ghcr-secret
    app.kubernetes.io/part-of: platform
spec:
  vaultAuthRef: vault-secrets-operator/vault-auth
  mount: secret
  path: ghcr
  type: kv-v2
  refreshAfter: 30s
  destination:
    create: true
    name: ghcr-secret
    type: kubernetes.io/dockerconfigjson

---
# GHCR Secret - mcp namespace
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: ghcr-secret
  namespace: cto
  labels:
    app.kubernetes.io/name: ghcr-secret
    app.kubernetes.io/part-of: platform
spec:
  vaultAuthRef: vault-secrets-operator/vault-auth
  mount: secret
  path: ghcr
  type: kv-v2
  refreshAfter: 30s
  destination:
    create: true
    name: ghcr-secret
    type: kubernetes.io/dockerconfigjson

---
# GHCR Secret - arc-systems namespace
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: ghcr-secret
  namespace: arc-systems
  labels:
    app.kubernetes.io/name: ghcr-secret
    app.kubernetes.io/part-of: platform
spec:
  vaultAuthRef: vault-secrets-operator/vault-auth
  mount: secret
  path: ghcr
  type: kv-v2
  refreshAfter: 30s
  destination:
    create: true
    name: ghcr-secret
    type: kubernetes.io/dockerconfigjson

---
# GHCR Secret - arc-runners namespace
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: ghcr-secret
  namespace: arc-runners
  labels:
    app.kubernetes.io/name: ghcr-secret
    app.kubernetes.io/part-of: platform
spec:
  vaultAuthRef: vault-secrets-operator/vault-auth
  mount: secret
  path: ghcr
  type: kv-v2
  refreshAfter: 30s
  destination:
    create: true
    name: ghcr-secret
    type: kubernetes.io/dockerconfigjson

---
# GHCR Secret - trader namespace
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: ghcr-secret
  namespace: trader
  labels:
    app.kubernetes.io/name: ghcr-secret
    app.kubernetes.io/part-of: platform
spec:
  vaultAuthRef: vault-secrets-operator/vault-auth
  mount: secret
  path: ghcr
  type: kv-v2
  refreshAfter: 30s
  destination:
    create: true
    name: ghcr-secret
    type: kubernetes.io/dockerconfigjson

