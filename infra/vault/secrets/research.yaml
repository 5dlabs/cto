---
# =============================================================================
# Research Crate Secrets
# =============================================================================
# These VaultStaticSecrets sync API keys from Vault to Kubernetes secrets
# for the Twitter/X bookmark research pipeline.
#
# REQUIRED: Populate these secrets in Vault before the research CronJob will work:
#
# 1. Twitter session cookies (from browser DevTools):
#    # Log in to x.com, then extract cookies from DevTools > Application > Cookies
#    vault kv put secret/research-twitter TWITTER_AUTH_TOKEN=<auth_token-cookie> TWITTER_CT0=<ct0-cookie>
#
# 2. Anthropic API key (for relevance analysis):
#    vault kv put secret/research-anthropic ANTHROPIC_API_KEY=<your-api-key>
#
# 3. Firecrawl API key (for link enrichment - can reuse tools-firecrawl):
#    vault kv put secret/research-firecrawl FIRECRAWL_API_KEY=<your-api-key>
#
# =============================================================================

---
# Research Twitter Secrets - cto namespace
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: research-twitter-secrets
  namespace: cto
  labels:
    app.kubernetes.io/name: research-twitter-secrets
    app.kubernetes.io/part-of: research
spec:
  vaultAuthRef: infra/vault-auth
  mount: secret
  path: research-twitter
  type: kv-v2
  refreshAfter: 30s
  destination:
    create: true
    name: research-twitter-secrets

---
# Research Anthropic Secrets - cto namespace
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: research-anthropic-secrets
  namespace: cto
  labels:
    app.kubernetes.io/name: research-anthropic-secrets
    app.kubernetes.io/part-of: research
spec:
  vaultAuthRef: infra/vault-auth
  mount: secret
  path: research-anthropic
  type: kv-v2
  refreshAfter: 30s
  destination:
    create: true
    name: research-anthropic-secrets

---
# Research Firecrawl Secrets - cto namespace
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: research-firecrawl-secrets
  namespace: cto
  labels:
    app.kubernetes.io/name: research-firecrawl-secrets
    app.kubernetes.io/part-of: research
spec:
  vaultAuthRef: infra/vault-auth
  mount: secret
  path: research-firecrawl
  type: kv-v2
  refreshAfter: 30s
  destination:
    create: true
    name: research-firecrawl-secrets

