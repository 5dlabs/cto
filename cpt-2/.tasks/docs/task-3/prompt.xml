<?xml version="1.0" encoding="UTF-8"?>
<task id="3" priority="high" agent="rex">
    <meta>
        <title>Setup Redis connection and configuration</title>
        <priority>high</priority>
        <dependencies>2</dependencies>
        <agent_hint>rex</agent_hint>
    </meta>

    <role>You are a Senior Rust Engineer with expertise in systems programming and APIs. Implement Task 3 with production-quality code.</role>

    <context>
        <overview>Establish Redis connection for session storage with proper error handling</overview>
        <background>Review PRD and architecture in .tasks/docs/ for full context.</background>
    </context>

    <requirements>
        <description>1. Create Redis client with connection pooling
2. Implement connection retry logic
3. Setup Redis session store configuration
4. Add health check endpoint for Redis connectivity
5. Configure session TTL and cleanup</description>
        <constraints>
            <constraint>Match existing codebase patterns</constraint>
            <constraint>Create PR with atomic commits</constraint>
            <constraint>Include unit tests</constraint>
            <constraint>PR title: feat(task-3): Setup Redis connection and configuration</constraint>
        </constraints>
    </requirements>

    <acceptance_criteria>
        <criterion>All requirements implemented</criterion>
        <criterion>Tests passing with adequate coverage</criterion>
        <criterion>Code follows project conventions</criterion>
        <criterion>Test Redis connection, session creation, retrieval, and expiration</criterion>
    </acceptance_criteria>

    <validation>
        <command>cargo test (Rust)</command>
        <command>cargo clippy -- -D warnings (Rust)</command>
        <command>go test ./... (Go)</command>
        <command>npm test (Node.js)</command>
    </validation>

    <deliverables>
        <deliverable>Working implementation</deliverable>
        <deliverable>Unit tests</deliverable>
        <deliverable>Pull request</deliverable>
    </deliverables>
</task>
