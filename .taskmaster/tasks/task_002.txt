# Task ID: 2
# Title: Configure Argo Workflows Infrastructure
# Status: pending
# Dependencies: None
# Priority: high
# Description: Configure Argo Workflows in the Kubernetes cluster with necessary service accounts, persistent volumes, and resource quotas for MCP server integration.
# Details:
Since Argo Workflows is already installed and running, focus on configuring it for our specific use case. Create service accounts with appropriate RBAC permissions following least privilege principle for workflow execution. Set up persistent volume claims for agent workspaces (using a StorageClass with ReadWriteMany access mode). Configure resource quotas and limits for the workflows namespace to ensure fair resource allocation. Ensure the Argo Workflows API is properly exposed and accessible for MCP server integration. Create the directory structure in infra/workflows/ for workflow templates. Configure metrics collection for Prometheus integration.

# Test Strategy:
Verify Argo Workflows API is accessible from the MCP server. Test running a simple workflow to validate configuration. Confirm persistent volumes are correctly mounted and accessible by agent workspaces. Validate resource quotas are enforced when running multiple workflows. Test service account permissions with various operations to ensure proper access control.

# Subtasks:
## 1. Create service accounts for workflow execution [pending]
### Dependencies: None
### Description: Create dedicated service accounts with appropriate RBAC permissions following the least privilege principle.
### Details:


## 2. Set up persistent volumes for agent workspaces [pending]
### Dependencies: None
### Description: Configure persistent volume claims using a StorageClass with ReadWriteMany access mode for agent workspaces.
### Details:


## 3. Configure resource quotas for workflows namespace [pending]
### Dependencies: None
### Description: Set up resource quotas and limits to ensure fair resource allocation and prevent resource exhaustion.
### Details:


## 4. Ensure Argo Workflows API accessibility for MCP server [pending]
### Dependencies: None
### Description: Configure and test API access to ensure the MCP server can interact with Argo Workflows.
### Details:


## 5. Create directory structure for workflow templates [pending]
### Dependencies: None
### Description: Set up the infra/workflows/ directory structure for organizing workflow templates.
### Details:


## 6. Configure metrics collection for Prometheus [pending]
### Dependencies: None
### Description: Set up metrics collection for Argo Workflows to enable monitoring via Prometheus.
### Details:


